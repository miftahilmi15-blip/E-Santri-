<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kalender E-Santri</title>
<style>
  body{font-family:"Poppins",sans-serif;background:#f7f9fb;color:#333;margin:0;padding:0}
  header{background:#2e5e4e;color:#fff;padding:15px;text-align:center}
  h1{margin:0;font-size:24px}
  main{max-width:800px;margin:20px auto;padding:0 15px}
  table{width:100%;border-collapse:collapse;background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,.08)}
  th,td{padding:12px;text-align:left;border-bottom:1px solid #ddd}
  th{background:#2e5e4e;color:#fff}
</style>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore-compat.js"></script>
</head>
<body>

<header>
  <h1>Kalender Kegiatan Santri</h1>
</header>

<main>
  <table>
    <thead>
      <tr>
        <th>Tanggal</th>
        <th>Kegiatan</th>
        <th>Waktu</th>
      </tr>
    </thead>
    <tbody id="calendar-body">
      <!-- Data kalender akan muncul di sini -->
    </tbody>
  </table>
</main>

<script>
  // Konfigurasi Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyAQ1A9rtEoEYoriA5Y7oSB84Fd1Xnu6aes",
    authDomain: "e-santri-ed555.firebaseapp.com",
    projectId: "e-santri-ed555",
    storageBucket: "e-santri-ed555.appspot.com",
    messagingSenderId: "588687778472",
    appId: "1:588687778472:web:3000ae9b18f1004ed2189d"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  const tbody = document.getElementById("calendar-body");

  // Ambil data kalender dari Firestore
  db.collection("kalender").orderBy("tanggal").onSnapshot(snapshot => {
    tbody.innerHTML = ""; // Kosongkan tabel dulu

    snapshot.forEach(doc => {
      const data = doc.data();
      const tr = document.createElement("tr");
      tr.innerHTML = `
        <td>${data.tanggal}</td>
        <td>${data.kegiatan}</td>
        <td>${data.waktu}</td>
      `;
      tbody.appendChild(tr);
    });
  });
</script>

</body>
</html>
